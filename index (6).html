<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Matthew Vaishnav</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Fraunces:ital,opsz,wght@0,9..144,300;0,9..144,700;1,9..144,300;1,9..144,700&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;1,9..40,300&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --bg:          #09090f;
    --surface:     #0f1018;
    --surface2:    #14161f;
    --border:      rgba(255,255,255,0.07);
    --border-hi:   rgba(255,255,255,0.13);
    --accent:      #c8d6f8;
    --accent-dim:  rgba(200,214,248,0.45);
    --accent-glow: rgba(200,214,248,0.055);
    --text:        #7a8298;
    --text-mid:    #a8b0c4;
    --text-hi:     #e4e8f4;
    --green:       #52c97a;
    --amber:       #f5c842;
    --red:         #e05252;
    --mono: 'JetBrains Mono', monospace;
    --sans: 'DM Sans', sans-serif;
    --display: 'Fraunces', serif;
  }

  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  html { scroll-behavior: smooth; overflow-x: hidden; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: var(--sans);
    font-size: 17px;
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    overflow-x: hidden;
  }

  /* grain */
  body::after {
    content: '';
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 9998;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='300' height='300' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");
    opacity: 0.5;
  }

  /* ── NAV ── */
  nav {
    position: fixed; top: 0; left: 0; right: 0; z-index: 200;
    display: flex; align-items: center; justify-content: space-between;
    padding: 0 2.5rem; height: 58px;
    border-bottom: 1px solid var(--border);
    background: rgba(9,9,15,0.88);
    backdrop-filter: blur(18px);
    -webkit-backdrop-filter: blur(18px);
  }

  /* hamburger */
  .nav-burger {
    display: none;
    flex-direction: column; justify-content: center; gap: 5px;
    width: 36px; height: 36px; cursor: pointer;
    background: none; border: none; padding: 6px;
  }
  .nav-burger span {
    display: block; width: 20px; height: 1.5px;
    background: var(--text-mid); border-radius: 2px;
    transition: all .2s ease;
  }
  .nav-burger.open span:nth-child(1) { transform: translateY(6.5px) rotate(45deg); }
  .nav-burger.open span:nth-child(2) { opacity: 0; }
  .nav-burger.open span:nth-child(3) { transform: translateY(-6.5px) rotate(-45deg); }

  /* mobile drawer */
  .nav-drawer {
    display: none;
    position: fixed; top: 58px; left: 0; right: 0;
    background: rgba(9,9,15,0.97);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid var(--border);
    padding: 1.5rem 2rem;
    z-index: 199;
    flex-direction: column; gap: 0;
  }
  .nav-drawer.open { display: flex; }
  .nav-drawer a {
    display: block; padding: .85rem 0;
    font-size: 15px; color: var(--text-mid);
    text-decoration: none; border-bottom: 1px solid var(--border);
    transition: color .15s;
  }
  .nav-drawer a:last-child { border-bottom: none; }
  .nav-drawer a:hover { color: var(--text-hi); }
  .nav-name {
    font-family: var(--display);
    font-size: 15px; font-weight: 600;
    color: var(--text-hi); text-decoration: none;
    letter-spacing: 0.01em;
  }
  .nav-links { display: flex; gap: 2.5rem; list-style: none; }
  .nav-links a {
    font-size: 14px; color: var(--text);
    text-decoration: none; transition: color 0.15s;
  }
  .nav-links a:hover { color: var(--text-hi); }
  .nav-cta {
    font-size: 13px; font-weight: 500;
    color: var(--accent); text-decoration: none;
    padding: 6px 16px;
    border: 1px solid rgba(200,214,248,0.18);
    border-radius: 4px;
    transition: background 0.15s, border-color 0.15s;
  }
  .nav-cta:hover {
    background: var(--accent-glow);
    border-color: rgba(200,214,248,0.32);
  }

  /* ── HERO ── */
  #hero {
    min-height: 100vh;
    display: flex; align-items: center;
    padding: 0 2.5rem;
    position: relative; overflow: hidden;
  }
  #hero::before {
    content: '';
    position: absolute; top: 20%; left: -10%;
    width: 55%; height: 70%;
    background: radial-gradient(ellipse at center,
      rgba(200,214,248,0.035) 0%, transparent 65%);
    pointer-events: none;
  }
  .hero-inner {
    width: 100%; max-width: 1100px; margin: 0 auto;
    display: grid; grid-template-columns: 1fr 1px 1fr;
    gap: 0; align-items: center;
    position: relative;
  }

  .hero-divider {
    width: 1px;
    height: 60%;
    background: linear-gradient(
      to bottom,
      transparent 0%,
      var(--border-hi) 25%,
      var(--border-hi) 75%,
      transparent 100%
    );
    justify-self: center;
    opacity: 0;
    animation: up .65s cubic-bezier(.16,1,.3,1) .55s forwards;
  }

  .hero-left { padding-right: 3.5rem; }
  .hero-right { padding-left: 3.5rem; }

  .hero-label {
    display: flex; align-items: center; gap: 10px;
    margin-bottom: 2rem;
    opacity: 0; animation: up .65s cubic-bezier(.16,1,.3,1) .1s forwards;
  }
  .hero-label-dot {
    width: 6px; height: 6px; border-radius: 50%;
    background: var(--accent); opacity: 0.5;
  }
  .hero-label span {
    font-family: var(--mono);
    font-size: 12px; letter-spacing: .12em;
    text-transform: uppercase; color: var(--text);
  }

  h1 {
    font-family: var(--display);
    font-size: clamp(2.8rem, 5vw, 4.8rem);
    font-weight: 700;
    line-height: 1.08; letter-spacing: -.01em;
    color: var(--text-hi);
    opacity: 0; animation: up .65s cubic-bezier(.16,1,.3,1) .22s forwards;
  }
  h1 .name-first { display: block; font-weight: 300; font-style: italic; font-size: 0.55em; color: var(--text); letter-spacing: .01em; margin-bottom: .2em; }
  h1 .name-role  { display: block; font-size: 0.38em; font-weight: 300; font-style: normal; font-family: var(--mono); letter-spacing: .1em; text-transform: uppercase; color: var(--text); margin-top: .6em; }

  .hero-body {
    margin-top: 1.75rem;
    font-size: 1.05rem; font-weight: 300;
    color: var(--text); line-height: 1.8;
    opacity: 0; animation: up .65s cubic-bezier(.16,1,.3,1) .34s forwards;
  }
  .hero-body strong { color: var(--text-mid); font-weight: 400; }

  .hero-actions {
    display: flex; gap: 1rem; flex-wrap: wrap;
    margin-top: 2.5rem;
    opacity: 0; animation: up .65s cubic-bezier(.16,1,.3,1) .46s forwards;
  }
  .btn {
    display: inline-flex; align-items: center; gap: 8px;
    padding: 11px 24px;
    font-family: var(--sans); font-size: 14px; font-weight: 500;
    text-decoration: none; border-radius: 5px;
    transition: all .15s ease; letter-spacing: .01em;
  }
  .btn-solid { background: var(--text-hi); color: var(--bg); }
  .btn-solid:hover {
    background: #fff;
    transform: translateY(-1px);
    box-shadow: 0 8px 28px rgba(228,232,244,.1);
  }
  .btn-ghost {
    background: transparent; color: var(--text-mid);
    border: 1px solid var(--border-hi);
  }
  .btn-ghost:hover { border-color: rgba(255,255,255,.22); color: var(--text-hi); }

  /* ── HERO TERMINAL ── */
  .hero-terminal {
    opacity: 0; animation: up .65s cubic-bezier(.16,1,.3,1) .5s forwards;
    border: 1px solid var(--border-hi);
    border-radius: 8px; overflow: hidden;
    background: #07080d;
    box-shadow: 0 32px 80px rgba(0,0,0,0.5), 0 0 0 1px rgba(255,255,255,0.04);
  }
  .ht-bar {
    display: flex; align-items: center; gap: 7px;
    padding: 10px 14px; background: var(--surface2);
    border-bottom: 1px solid var(--border);
  }
  .ht-dot { width: 11px; height: 11px; border-radius: 50%; }
  .ht-red    { background: #ff5f57; }
  .ht-yellow { background: #febc2e; }
  .ht-green  { background: #28c840; }
  .ht-title {
    font-family: var(--mono); font-size: 11px;
    color: var(--text); margin-left: auto; letter-spacing: .04em;
  }
  .ht-body {
    padding: 1.25rem 1.5rem;
    font-family: var(--mono); font-size: 12px; line-height: 1.9;
    min-height: 320px;
  }
  .ht-line { display: flex; gap: 0; white-space: pre-wrap; word-break: break-all; }
  .ht-prompt { color: var(--accent); flex-shrink: 0; }
  .ht-cmd    { color: var(--text-hi); }
  .ht-out    { color: #4a5568; }
  .ht-hi     { color: var(--text-mid); }
  .ht-green-t { color: #52c97a; }
  .ht-amber-t { color: #f5c842; }
  .ht-red-t   { color: #e05252; }
  .ht-cursor  {
    display: inline-block; width: 7px; height: 14px;
    background: var(--accent); opacity: 0.7; margin-left: 2px;
    vertical-align: middle;
    animation: blink .9s step-end infinite;
  }

  .hero-scroll {
    position: absolute; bottom: 2.5rem; left: 0;
    display: flex; align-items: center; gap: 10px;
    opacity: 0; animation: up .65s cubic-bezier(.16,1,.3,1) .65s forwards;
  }
  .hero-scroll-line { width: 36px; height: 1px; background: var(--border-hi); }
  .hero-scroll span {
    font-family: var(--mono); font-size: 10px;
    letter-spacing: .12em; text-transform: uppercase; color: var(--text);
  }

  /* ── SECTIONS ── */
  section { padding: 6rem 2.5rem; }
  .inner { max-width: 820px; margin: 0 auto; }

  .s-label {
    display: flex; align-items: center; gap: 1rem;
    margin-bottom: 3.5rem;
  }
  .s-label-txt {
    font-family: var(--mono); font-size: 11px;
    letter-spacing: .13em; text-transform: uppercase;
    color: var(--text); white-space: nowrap;
  }
  .s-label-line { flex: 1; height: 1px; background: var(--border); }

  h2 {
    font-family: var(--display);
    font-size: 2rem; font-weight: 700;
    letter-spacing: -.02em; color: var(--text-hi);
    margin-bottom: 1.25rem; line-height: 1.1;
  }

  /* ── ABOUT ── */
  #about { background: var(--surface); border-top: 1px solid var(--border); }

  .about-cols {
    display: grid; grid-template-columns: 1.15fr .85fr;
    gap: 5rem; align-items: start;
  }
  .about-text p {
    font-weight: 300; color: var(--text);
    line-height: 1.82; margin-bottom: 1.1rem;
    font-size: 1rem;
  }
  .about-text strong { color: var(--text-mid); font-weight: 400; }

  .profile-card {
    border: 1px solid var(--border); border-radius: 6px; overflow: hidden;
    background: var(--surface2);
  }
  .profile-head {
    padding: .9rem 1.2rem; border-bottom: 1px solid var(--border);
    display: flex; align-items: center; gap: 8px;
  }
  .profile-head-dot {
    width: 7px; height: 7px; border-radius: 50%;
    background: var(--accent); opacity: 0.45;
  }
  .profile-head span {
    font-family: var(--mono); font-size: 10px;
    letter-spacing: .1em; text-transform: uppercase; color: var(--text);
  }
  .profile-row {
    display: flex; justify-content: space-between; align-items: center;
    padding: .62rem 1.2rem; border-bottom: 1px solid var(--border); gap: 1rem;
  }
  .profile-row:last-child { border-bottom: none; }
  .pk { font-family: var(--mono); font-size: 12px; color: var(--text); }
  .pv { font-family: var(--mono); font-size: 12px; color: var(--text-mid); text-align: right; }

  .sdot {
    display: inline-block; width: 6px; height: 6px;
    border-radius: 50%; margin-right: 5px; vertical-align: middle;
  }
  .s-green { background: var(--green); }
  .s-amber { background: var(--amber); animation: blink 2s ease-in-out infinite; }
  .s-dim   { background: #3a3f50; }
  @keyframes blink { 0%,100%{opacity:1} 50%{opacity:.3} }

  /* ── SKILLS ── */
  .skills-grid {
    display: grid; grid-template-columns: repeat(3,1fr);
    gap: 1px; background: var(--border);
    border: 1px solid var(--border); border-radius: 6px; overflow: hidden;
  }
  .sc {
    background: var(--bg); padding: 1.5rem;
    transition: background .15s;
  }
  .sc:hover { background: var(--surface2); }
  .sc-label {
    display: block; font-family: var(--mono); font-size: 11px;
    letter-spacing: .1em; text-transform: uppercase;
    color: var(--accent-dim); margin-bottom: .9rem;
  }
  .chips { display: flex; flex-wrap: wrap; gap: 5px; }
  .chip {
    font-family: var(--mono); font-size: 11px;
    padding: 4px 9px; border: 1px solid var(--border-hi);
    border-radius: 3px; color: var(--text); letter-spacing: .01em;
    transition: color .15s, border-color .15s;
  }
  .sc:hover .chip { color: var(--text-mid); border-color: rgba(255,255,255,.14); }

  /* ── PROJECTS ── */
  #projects { background: var(--surface); border-top: 1px solid var(--border); }

  .proj-row {
    display: grid; grid-template-columns: 1fr auto;
    gap: 2rem; align-items: center;
    padding: 1.6rem 0; border-bottom: 1px solid var(--border);
    text-decoration: none; cursor: pointer;
    transition: padding-left .2s ease;
  }
  .proj-row:first-of-type { border-top: 1px solid var(--border); }
  .proj-row:hover { padding-left: .5rem; }
  .proj-row:hover .proj-title { color: var(--text-hi); }

  .proj-kicker {
    font-family: var(--mono); font-size: 11px;
    letter-spacing: .1em; text-transform: uppercase;
    color: var(--text); margin-bottom: .35rem;
  }
  .proj-title {
    font-family: var(--display); font-size: 1.25rem; font-weight: 600;
    color: var(--text-hi); letter-spacing: -.01em;
    margin-bottom: .3rem; transition: color .15s;
  }
  .proj-desc {
    font-size: 14px; font-weight: 300;
    color: var(--text); line-height: 1.65; max-width: 560px;
  }
  .proj-arrow {
    font-size: 17px; color: var(--border-hi);
    transition: color .15s, transform .2s; flex-shrink: 0;
  }
  .proj-row:hover .proj-arrow { color: var(--text-mid); transform: translate(3px,-3px); }

  /* ── CTF ── */
  .ctf-grid {
    display: grid; grid-template-columns: repeat(2,1fr);
    gap: 1px; background: var(--border);
    border: 1px solid var(--border); border-radius: 6px; overflow: hidden;
  }
  .ctf-card {
    background: var(--bg); padding: 1.75rem;
    text-decoration: none; display: block; transition: background .15s;
  }
  .ctf-card:hover { background: var(--surface2); }
  .ctf-top {
    display: flex; justify-content: space-between; align-items: flex-start;
    margin-bottom: 1rem;
  }
  .ctf-platform {
    font-family: var(--mono); font-size: 11px;
    letter-spacing: .1em; text-transform: uppercase; color: var(--text);
  }
  .diff {
    font-family: var(--mono); font-size: 11px;
    padding: 3px 9px; border-radius: 3px; letter-spacing: .04em;
  }
  .d-easy { color:var(--green); background:rgba(82,201,122,.08); border:1px solid rgba(82,201,122,.2); }
  .d-med  { color:var(--amber); background:rgba(245,200,66,.08); border:1px solid rgba(245,200,66,.2); }
  .d-hard { color:var(--red);   background:rgba(224,82,82,.08);  border:1px solid rgba(224,82,82,.2); }

  .ctf-name {
    font-family: var(--display); font-size: 1.15rem; font-weight: 700;
    color: var(--text-hi); letter-spacing: -.01em; margin-bottom: .45rem;
  }
  .ctf-desc {
    font-size: 13.5px; font-weight: 300; color: var(--text);
    line-height: 1.65; margin-bottom: 1rem;
  }
  .ttp-list { display: flex; flex-wrap: wrap; gap: 5px; }
  .ttp {
    font-family: var(--mono); font-size: 10.5px;
    padding: 3px 8px; border: 1px solid var(--border-hi);
    border-radius: 3px; color: var(--text); letter-spacing: .02em;
  }

  /* ── CONTACT ── */
  #contact { border-top: 1px solid var(--border); }
  .contact-cols {
    display: grid; grid-template-columns: 1fr 1fr;
    gap: 5rem; align-items: start;
  }
  .contact-text p {
    font-weight: 300; color: var(--text);
    line-height: 1.82; margin-bottom: 1rem;
    font-size: 1rem;
  }
  .contact-text strong { color: var(--text-mid); font-weight: 400; }

  .link-list {
    border: 1px solid var(--border); border-radius: 6px; overflow: hidden;
  }
  .ext-link {
    display: flex; align-items: center; justify-content: space-between;
    padding: 1rem 1.2rem;
    text-decoration: none; border-bottom: 1px solid var(--border);
    transition: background .15s; gap: 1rem;
  }
  .ext-link:last-child { border-bottom: none; }
  .ext-link:hover { background: var(--surface2); }
  .ext-lbl {
    font-family: var(--mono); font-size: 10.5px;
    letter-spacing: .1em; text-transform: uppercase;
    color: var(--text); display: block; margin-bottom: 3px;
  }
  .ext-val {
    font-size: 14px; color: var(--text-mid); font-weight: 400;
    transition: color .15s;
  }
  .ext-link:hover .ext-val { color: var(--text-hi); }
  .ext-arr {
    font-size: 14px; color: var(--border-hi);
    transition: color .15s, transform .15s; flex-shrink: 0;
  }
  .ext-link:hover .ext-arr { color: var(--text-mid); transform: translate(2px,-2px); }

  /* ── SKILLS SNAPSHOT ── */
  .skills-snapshot {
    display: grid; grid-template-columns: 1fr 1fr;
    gap: 0 4rem;
  }
  .snap-col { display: flex; flex-direction: column; gap: 2rem; }
  .snap-group {}
  .snap-cat {
    display: block;
    font-family: var(--mono); font-size: 10px;
    letter-spacing: .12em; text-transform: uppercase;
    color: var(--accent-dim); margin-bottom: .75rem;
    padding-bottom: .5rem;
    border-bottom: 1px solid var(--border);
  }
  .snap-list {
    list-style: none; padding: 0;
    display: flex; flex-direction: column; gap: .4rem;
  }
  .snap-list li {
    font-size: 14px; font-weight: 300;
    color: var(--text-mid); line-height: 1.5;
    padding-left: 1rem; position: relative;
  }
  .snap-list li::before {
    content: '—';
    position: absolute; left: 0;
    color: var(--border-hi);
    font-size: 12px;
  }

  /* ── CURRENTLY WORKING ON ── */
  #now { background: var(--surface); border-top: 1px solid var(--border); }
  .now-grid {
    display: grid; grid-template-columns: 1fr 1fr;
    gap: 1px; background: var(--border);
    border: 1px solid var(--border); border-radius: 6px; overflow: hidden;
  }
  .now-item {
    background: var(--bg); padding: 1.5rem;
    display: flex; gap: 1rem; align-items: flex-start;
    transition: background .15s;
  }
  .now-item:hover { background: var(--surface2); }
  .now-icon {
    font-size: 12px; color: var(--accent-dim);
    flex-shrink: 0; margin-top: 3px;
  }
  .now-title {
    font-family: var(--display); font-size: 1rem; font-weight: 700;
    color: var(--text-hi); letter-spacing: -.01em; margin-bottom: .35rem;
  }
  .now-desc {
    font-size: 13px; font-weight: 300; color: var(--text); line-height: 1.65;
  }

  /* ── LAB DIAGRAM ── */
  #lab { border-top: 1px solid var(--border); }
  .diagram-wrap {
    border: 1px solid var(--border); border-radius: 6px;
    overflow: hidden; background: #080a10;
    padding: 1.5rem;
  }

  #labCanvas { image-rendering: crisp-edges; }

  /* ── FOOTER (expanded) ── */
  footer {
    padding: 2.5rem 2.5rem;
    border-top: 1px solid var(--border);
    background: var(--surface);
  }
  .footer-inner {
    max-width: 820px; margin: 0 auto;
    display: flex; justify-content: space-between; align-items: flex-start;
    gap: 2rem; flex-wrap: wrap;
  }
  .footer-name {
    font-family: var(--display); font-size: 15px; font-weight: 600;
    color: var(--text-hi); margin-bottom: .4rem;
  }
  .footer-sub { font-family: var(--mono); font-size: 11px; color: var(--text); line-height: 1.8; }
  .footer-links {
    display: flex; flex-direction: column; gap: .4rem; text-align: right;
  }
  .footer-links a {
    font-family: var(--mono); font-size: 11px; color: var(--text);
    text-decoration: none; transition: color .15s;
  }
  .footer-links a:hover { color: var(--text-hi); }

  /* ── ANIMATIONS ── */
  @keyframes up {
    from { opacity: 0; transform: translateY(16px); }
    to   { opacity: 1; transform: none; }
  }
  .reveal { opacity: 0; transform: translateY(14px); transition: opacity .55s cubic-bezier(.16,1,.3,1), transform .55s cubic-bezier(.16,1,.3,1); }
  .reveal.in { opacity: 1; transform: none; }

  /* ── RESPONSIVE ── */
  @media (max-width: 780px) {
    nav { padding: 0 1.25rem; }
    .nav-links { display: none; }
    .nav-cta { display: none; }
    .nav-burger { display: flex; }

    section { padding: 3.5rem 1.25rem; }

    #hero {
      padding: 1.25rem; padding-top: 5.5rem; padding-bottom: 3rem;
      min-height: auto;
    }
    .hero-inner { grid-template-columns: 1fr; gap: 2.5rem; }
    .hero-divider { display: none; }
    .hero-left { padding-right: 0; }
    .hero-right { display: none; }
    .hero-scroll { display: none; }
    h1 { font-size: clamp(2.2rem, 9vw, 3rem); }

    .about-cols { grid-template-columns: 1fr; gap: 2rem; }
    .skills-snapshot { grid-template-columns: 1fr; gap: 2rem; }
    .ctf-grid { grid-template-columns: 1fr; }
    .now-grid { grid-template-columns: 1fr; }
    .contact-cols { grid-template-columns: 1fr; gap: 2rem; }

    .proj-row { grid-template-columns: 1fr; gap: .75rem; }
    .proj-arrow { display: none; }

    .diagram-wrap { padding: .75rem; }

    .footer-inner { flex-direction: column; gap: 1.25rem; }
    .footer-links { text-align: left; flex-direction: row; flex-wrap: wrap; gap: 1rem; }
  }

  @media (max-width: 500px) {
    .hero-actions { flex-direction: column; }
    .btn { width: 100%; justify-content: center; }
  }
</style>
</head>
<body>

<nav>
  <a href="#" class="nav-name">Matthew Vaishnav</a>
  <ul class="nav-links">
    <li><a href="#about">About</a></li>
    <li><a href="#skills">Skills</a></li>
    <li><a href="#projects">Projects</a></li>
    <li><a href="#ctf">CTF</a></li>
    <li><a href="#now">Now</a></li>
    <li><a href="#contact">Contact</a></li>
  </ul>
  <a href="https://github.com/5ive-archive/cst-portfolio" class="nav-cta" target="_blank">View Repo →</a>
  <button class="nav-burger" id="burger" aria-label="Menu">
    <span></span><span></span><span></span>
  </button>
</nav>

<!-- MOBILE DRAWER -->
<div class="nav-drawer" id="drawer">
  <a href="#about"    onclick="closeDrawer()">About</a>
  <a href="#skills"   onclick="closeDrawer()">Skills</a>
  <a href="#projects" onclick="closeDrawer()">Projects</a>
  <a href="#ctf"      onclick="closeDrawer()">CTF</a>
  <a href="#now"      onclick="closeDrawer()">Currently Working On</a>
  <a href="#lab"      onclick="closeDrawer()">Lab Diagram</a>
  <a href="#contact"  onclick="closeDrawer()">Contact</a>
</div>

<!-- HERO -->
<section id="hero">
  <div class="hero-inner">
    <!-- LEFT: text -->
    <div class="hero-left">
      <div class="hero-label">
        <div class="hero-label-dot"></div>
        <span>Computer Systems Technician · Conestoga College · Waterloo, ON</span>
      </div>
      <h1>
        <span class="name-first">Matthew Vaishnav</span>
        Security &amp; Infrastructure
        <span class="name-role">CST · Conestoga · Co-op 2026</span>
      </h1>
      <p class="hero-body">
        First-year CST student with a focus on <strong>network security and infrastructure operations</strong>.
        I maintain a home lab, pursue CTF challenges, and document everything openly.
        Currently seeking a co-op placement for 2026.
      </p>
      <div class="hero-actions">
        <a href="https://github.com/5ive-archive/cst-portfolio" class="btn btn-solid" target="_blank">GitHub Repository</a>
        <a href="#contact" class="btn btn-ghost">Get in Touch</a>
      </div>
    </div>

    <!-- DIVIDER -->
    <div class="hero-divider"></div>

    <!-- RIGHT: animated terminal -->
    <div class="hero-right">
    <div class="hero-terminal">
      <div class="ht-bar">
        <div class="ht-dot ht-red"></div>
        <div class="ht-dot ht-yellow"></div>
        <div class="ht-dot ht-green"></div>
        <span class="ht-title">log-correlator.py</span>
      </div>
      <div class="ht-body" id="terminal-output"></div>
    </div>
    </div><!-- end hero-right -->
  </div>

  <div class="hero-scroll">
    <div class="hero-scroll-line"></div>
    <span>Scroll</span>
  </div>
</section>

<!-- ABOUT -->
<section id="about">
  <div class="inner">
    <div class="s-label reveal">
      <span class="s-label-txt">01 — About</span>
      <div class="s-label-line"></div>
    </div>
    <div class="about-cols">
      <div class="about-text reveal">
        <p>I'm a Computer Systems Technician student at Conestoga College with a focus on homelabs, monitoring stacks, and troubleshooting complex systems. I build real infrastructure, document everything, and constantly refine my workflow for reliability and clarity.</p>
        <p>My home lab runs Kali Linux, pfSense, Security Onion, and a Windows Server 2019 domain. It's a practical space for extending coursework into real configuration, testing, and break/fix scenarios. Every config and script gets committed.</p>
        <p>I'm pursuing a <strong>co-op placement in SOC analysis or IT infrastructure for 2026</strong>. Alongside coursework I'm studying for CompTIA Security+ and working through TryHackMe's SOC Level 1 path.</p>
      </div>
      <div class="reveal">
        <div class="profile-card">
          <div class="profile-head">
            <div class="profile-head-dot"></div>
            <span>Profile</span>
          </div>
          <div class="profile-row"><span class="pk">Program</span><span class="pv">CST — Conestoga</span></div>
          <div class="profile-row"><span class="pk">Graduating</span><span class="pv">2027</span></div>
          <div class="profile-row"><span class="pk">Location</span><span class="pv">Waterloo, ON</span></div>
          <div class="profile-row"><span class="pk">Lab OS</span><span class="pv">Kali · Ubuntu · Win Server</span></div>
          <div class="profile-row"><span class="pk">Security+</span><span class="pv"><span class="sdot s-amber"></span>Studying</span></div>
          <div class="profile-row"><span class="pk">THM SOC L1</span><span class="pv"><span class="sdot s-amber"></span>In Progress</span></div>
          <div class="profile-row"><span class="pk">Co-op</span><span class="pv"><span class="sdot s-green"></span>Available 2026</span></div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- SKILLS -->
<section id="skills">
  <div class="inner">
    <div class="s-label reveal">
      <span class="s-label-txt">02 — Skills Snapshot</span>
      <div class="s-label-line"></div>
    </div>
    <div class="skills-snapshot reveal">
      <div class="snap-col">
        <div class="snap-group">
          <span class="snap-cat">Containerisation &amp; DevOps</span>
          <ul class="snap-list">
            <li>Docker, Docker Compose</li>
            <li>GitHub Actions, CI/CD pipelines</li>
            <li>Terraform (AWS VPC, EC2, S3)</li>
            <li>Ansible provisioning</li>
            <li>Git, version control workflows</li>
          </ul>
        </div>
        <div class="snap-group">
          <span class="snap-cat">Monitoring &amp; Observability</span>
          <ul class="snap-list">
            <li>Prometheus, Grafana, Loki</li>
            <li>Node Exporter, cAdvisor</li>
            <li>AlertManager, Promtail</li>
            <li>Log correlation &amp; anomaly detection</li>
            <li>Splunk SPL query writing</li>
          </ul>
        </div>
        <div class="snap-group">
          <span class="snap-cat">Networking</span>
          <ul class="snap-list">
            <li>Cisco IOS CLI, Packet Tracer</li>
            <li>TCP/IP, subnetting, VLANs, OSPF</li>
            <li>pfSense firewall administration</li>
            <li>DNS, DHCP, SMB, NFS</li>
            <li>Wireshark &amp; packet analysis</li>
          </ul>
        </div>
      </div>
      <div class="snap-col">
        <div class="snap-group">
          <span class="snap-cat">Windows Server &amp; Active Directory</span>
          <ul class="snap-list">
            <li>Windows Server 2019 (Standard &amp; Core)</li>
            <li>Active Directory, Group Policy, RSAT</li>
            <li>NTFS permissions, SMB shares</li>
            <li>Exchange Server, mailbox administration</li>
            <li>PowerShell remoting &amp; scripting</li>
          </ul>
        </div>
        <div class="snap-group">
          <span class="snap-cat">Linux Administration</span>
          <ul class="snap-list">
            <li>Kali, Ubuntu Server, Rocky Linux</li>
            <li>Bash scripting, Python automation</li>
            <li>SSH hardening, auditd, fail2ban</li>
            <li>Samba, NFS, service management</li>
            <li>CIS Benchmark hardening</li>
          </ul>
        </div>
        <div class="snap-group">
          <span class="snap-cat">Security &amp; Troubleshooting</span>
          <ul class="snap-list">
            <li>Nmap, Metasploit, Burp Suite</li>
            <li>MITRE ATT&amp;CK, Sigma Rules, YARA</li>
            <li>Vulnerability assessment (OpenVAS)</li>
            <li>Incident triage &amp; documentation</li>
            <li>Troubleshooting &amp; root cause analysis</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- PROJECTS -->
<section id="projects">
  <div class="inner">
    <div class="s-label reveal">
      <span class="s-label-txt">03 — Projects</span>
      <div class="s-label-line"></div>
    </div>

    <a href="https://github.com/5ive-archive/cst-portfolio/tree/main/soc" class="proj-row reveal" target="_blank">
      <div>
        <div class="proj-kicker">Python · Security</div>
        <div class="proj-title">SOC Toolkit</div>
        <div class="proj-desc">Multi-source log correlation engine, anomaly detection, threat hunting framework, and Splunk SPL playbook library. Detects brute force, lateral movement, and scanner activity with MITRE ATT&CK mapping.</div>
      </div>
      <div class="proj-arrow">↗</div>
    </a>

    <a href="https://github.com/5ive-archive/cst-portfolio/tree/main/scripting" class="proj-row reveal" target="_blank">
      <div>
        <div class="proj-kicker">Bash · PowerShell · Python</div>
        <div class="proj-title">Security Scripting Suite</div>
        <div class="proj-desc">CIS Benchmark server hardening automation, Windows security audit with Active Directory enumeration and HTML report output, network recon tool with service fingerprinting and vulnerability flagging.</div>
      </div>
      <div class="proj-arrow">↗</div>
    </a>

    <a href="https://github.com/5ive-archive/cst-portfolio/tree/main/devops" class="proj-row reveal" target="_blank">
      <div>
        <div class="proj-kicker">Terraform · Ansible · Docker · GitHub Actions</div>
        <div class="proj-title">DevSecOps Pipeline</div>
        <div class="proj-desc">End-to-end CI/CD pipeline with SAST (Bandit, Semgrep), dependency scanning (Trivy), Terraform-managed AWS infrastructure with VPC and flow logging, Ansible provisioning, and hardened container images.</div>
      </div>
      <div class="proj-arrow">↗</div>
    </a>

    <a href="https://github.com/5ive-archive/cst-portfolio/tree/main/monitoring" class="proj-row reveal" target="_blank">
      <div>
        <div class="proj-kicker">Docker Compose · Prometheus · Grafana · Loki</div>
        <div class="proj-title">SOC Monitoring Stack</div>
        <div class="proj-desc">Self-hosted observability stack: Prometheus, Grafana, Loki, Promtail, AlertManager, Node Exporter, and cAdvisor. Deployed on an isolated Docker network with persistent storage and pre-configured dashboards.</div>
      </div>
      <div class="proj-arrow">↗</div>
    </a>

    <a href="https://github.com/5ive-archive/cst-portfolio/tree/main/data-analysis" class="proj-row reveal" target="_blank">
      <div>
        <div class="proj-kicker">Python · Log Analysis</div>
        <div class="proj-title">Log Correlation Engine</div>
        <div class="proj-desc">Parses and correlates auth.log and web access logs across sources. Identifies brute force success chains, scanner-to-admin-path patterns, and multi-service reconnaissance via sliding time windows.</div>
      </div>
      <div class="proj-arrow">↗</div>
    </a>
  </div>
</section>

<!-- CTF -->
<section id="ctf">
  <div class="inner">
    <div class="s-label reveal">
      <span class="s-label-txt">04 — CTF Writeups</span>
      <div class="s-label-line"></div>
    </div>
    <p class="reveal" style="font-size:14px;font-weight:300;color:var(--text);margin-bottom:2.5rem;line-height:1.75;">
      Documented walkthroughs covering attack methodology, tooling, and blue team detection notes for each technique used.
    </p>
    <div class="ctf-grid reveal">
      <a href="https://github.com/5ive-archive/cst-portfolio/blob/main/ctf-writeups/THM_Blue_EternalBlue.md" class="ctf-card" target="_blank">
        <div class="ctf-top">
          <span class="ctf-platform">TryHackMe</span>
          <span class="diff d-easy">Easy</span>
        </div>
        <div class="ctf-name">Blue — EternalBlue (MS17-010)</div>
        <div class="ctf-desc">SMB exploitation via Metasploit, SYSTEM-level access, credential dumping with hashdump. Includes Windows Event ID analysis and detection recommendations.</div>
        <div class="ttp-list">
          <span class="ttp">T1190 Exploit Public App</span>
          <span class="ttp">T1003 Credential Dumping</span>
          <span class="ttp">T1078 Valid Accounts</span>
        </div>
      </a>
      <a href="https://github.com/5ive-archive/cst-portfolio/blob/main/ctf-writeups/THM_Linux_Privesc.md" class="ctf-card" target="_blank">
        <div class="ctf-top">
          <span class="ctf-platform">TryHackMe</span>
          <span class="diff d-med">Medium</span>
        </div>
        <div class="ctf-name">Linux Privilege Escalation</div>
        <div class="ctf-desc">SUID binary abuse, sudo misconfigurations, cron job exploitation, and weak file permissions. Full methodology from low-privilege shell to root.</div>
        <div class="ttp-list">
          <span class="ttp">T1548 Abuse Elevation</span>
          <span class="ttp">T1053 Scheduled Task</span>
          <span class="ttp">T1222 File Permissions</span>
        </div>
      </a>
      <a href="https://github.com/5ive-archive/cst-portfolio/blob/main/ctf-writeups/THM_WebApp_Exploitation.md" class="ctf-card" target="_blank">
        <div class="ctf-top">
          <span class="ctf-platform">TryHackMe</span>
          <span class="diff d-med">Medium</span>
        </div>
        <div class="ctf-name">Web Application Exploitation</div>
        <div class="ctf-desc">SQL injection for authentication bypass, stored XSS, IDOR, and directory traversal. Includes remediation guidance and secure coding notes for each finding.</div>
        <div class="ttp-list">
          <span class="ttp">T1190 Web Exploit</span>
          <span class="ttp">T1059 Command Injection</span>
          <span class="ttp">T1083 File Discovery</span>
        </div>
      </a>
      <a href="https://github.com/5ive-archive/cst-portfolio/blob/main/ctf-writeups/THM_ActiveDirectory_Attacks.md" class="ctf-card" target="_blank">
        <div class="ctf-top">
          <span class="ctf-platform">TryHackMe</span>
          <span class="diff d-hard">Hard</span>
        </div>
        <div class="ctf-name">Active Directory Attacks</div>
        <div class="ctf-desc">Kerberoasting, AS-REP roasting, pass-the-hash, and lateral movement across a Windows domain. Full chain from initial foothold to Domain Admin.</div>
        <div class="ttp-list">
          <span class="ttp">T1558 Kerberos Ticket</span>
          <span class="ttp">T1550 Pass the Hash</span>
          <span class="ttp">T1021 Lateral Movement</span>
        </div>
      </a>
    </div>
  </div>
</section>

<!-- CURRENTLY WORKING ON -->
<section id="now">
  <div class="inner">
    <div class="s-label reveal">
      <span class="s-label-txt">05 — Currently Working On</span>
      <div class="s-label-line"></div>
    </div>
    <div class="now-grid reveal">
      <div class="now-item">
        <div class="now-icon">⬡</div>
        <div>
          <div class="now-title">Docker Engine Security Hardening</div>
          <div class="now-desc">Implementing CIS Docker Benchmark controls: rootless containers, read-only filesystems, seccomp profiles, and network segmentation between stacks.</div>
        </div>
      </div>
      <div class="now-item">
        <div class="now-icon">⬡</div>
        <div>
          <div class="now-title">Homelab → GitHub Automated Sync</div>
          <div class="now-desc">Building a pipeline to automatically commit config changes and new scripts from the lab to this repo. Keeps the portfolio live and current.</div>
        </div>
      </div>
      <div class="now-item">
        <div class="now-icon">⬡</div>
        <div>
          <div class="now-title">Monitoring Stack Architecture Diagrams</div>
          <div class="now-desc">Documenting the full Prometheus/Grafana/Loki stack with clean architecture diagrams showing data flows, retention policies, and alerting paths.</div>
        </div>
      </div>
      <div class="now-item">
        <div class="now-icon">⬡</div>
        <div>
          <div class="now-title">Windows Server Lab Expansion</div>
          <div class="now-desc">Extending the AD domain with a second DC, GPO policy testing environment, and a read-only domain controller (RODC) to simulate enterprise topologies.</div>
        </div>
      </div>
      <div class="now-item">
        <div class="now-icon">⬡</div>
        <div>
          <div class="now-title">CompTIA Security+ Exam Prep</div>
          <div class="now-desc">Working through Professor Messer's course and Darril Gibson practice exams. Target date: Summer 2026.</div>
        </div>
      </div>
      <div class="now-item">
        <div class="now-icon">⬡</div>
        <div>
          <div class="now-title">TryHackMe SOC Level 1 Path</div>
          <div class="now-desc">Completing the full SOC Level 1 learning path. Currently on Cyber Defence frameworks and log analysis modules.</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- LAB DIAGRAM -->
<section id="lab">
  <div class="inner">
    <div class="s-label reveal">
      <span class="s-label-txt">06 — Home Lab Architecture</span>
      <div class="s-label-line"></div>
    </div>
    <p class="reveal" style="font-size:14px;font-weight:300;color:var(--text);margin-bottom:2rem;line-height:1.75;">
      A segmented virtual lab environment running on VMware. Isolated VLAN per zone, all traffic passing through pfSense, with Security Onion sniffing the span port. <span style="font-family:var(--mono);font-size:11px;color:var(--text);">Click any node to explore.</span>
    </p>
    <div class="diagram-wrap reveal" style="padding:0;position:relative;">
      <canvas id="labCanvas" style="width:100%;display:block;border-radius:6px;cursor:pointer;"></canvas>
      <!-- Detail panel -->
      <div id="nodePanel" style="
        display:none;position:absolute;z-index:10;
        background:#0f1018;border:1px solid rgba(200,214,248,0.18);border-radius:6px;
        padding:1.25rem 1.5rem;min-width:240px;max-width:300px;
        box-shadow:0 16px 48px rgba(0,0,0,0.6);
        font-family:'JetBrains Mono',monospace;
        pointer-events:none;
      ">
        <div id="panelTitle" style="font-size:13px;font-weight:600;color:#e4e8f4;margin-bottom:.5rem;font-family:'Fraunces',serif;"></div>
        <div id="panelIp"    style="font-size:10px;color:#5a6a88;margin-bottom:.75rem;letter-spacing:.06em;"></div>
        <div id="panelBody"  style="font-size:11px;color:#7a8298;line-height:1.75;"></div>
      </div>
    </div>
  </div>
</section>

<!-- CONTACT -->
<section id="contact">
  <div class="inner">
    <div class="s-label reveal">
      <span class="s-label-txt">07 — Contact</span>
      <div class="s-label-line"></div>
    </div>
    <div class="contact-cols">
      <div class="contact-text reveal">
        <p>I'm actively looking for a <strong>co-op placement starting in 2026</strong> in SOC analysis, IT infrastructure, or security operations. Based in Waterloo and open to in-person, hybrid, and remote opportunities across Ontario.</p>
        <p>If you're a hiring manager or recruiter and something here is relevant to your team, I'd be glad to connect.</p>
      </div>
      <div class="link-list reveal">
        <a href="https://github.com/5ive-archive/cst-portfolio" class="ext-link" target="_blank">
          <div><span class="ext-lbl">GitHub</span><span class="ext-val">github.com/5ive-archive</span></div>
          <span class="ext-arr">↗</span>
        </a>
        <a href="https://www.linkedin.com/in/matthew-vaishnav-279670229/" class="ext-link" target="_blank">
          <div><span class="ext-lbl">LinkedIn</span><span class="ext-val">linkedin.com/in/matthew-vaishnav</span></div>
          <span class="ext-arr">↗</span>
        </a>
        <a href="https://tryhackme.com/p/matthew.vaishnav" class="ext-link" target="_blank">
          <div><span class="ext-lbl">TryHackMe</span><span class="ext-val">tryhackme.com/p/matthew.vaishnav</span></div>
          <span class="ext-arr">↗</span>
        </a>
        <a href="mailto:matthew.vaishnav@gmail.com" class="ext-link">
          <div><span class="ext-lbl">Email</span><span class="ext-val">matthew.vaishnav@gmail.com</span></div>
          <span class="ext-arr">↗</span>
        </a>
      </div>
    </div>
  </div>
</section>

<footer>
  <div class="footer-inner">
    <div class="footer-left">
      <p class="footer-name">Matthew Vaishnav</p>
      <p class="footer-sub">Computer Systems Technician · Conestoga College · Class of 2027</p>
      <p class="footer-sub">Waterloo, Ontario · Open to co-op 2026</p>
    </div>
    <div class="footer-links">
      <a href="https://github.com/5ive-archive/cst-portfolio" target="_blank">GitHub</a>
      <a href="https://www.linkedin.com/in/matthew-vaishnav-279670229/" target="_blank">LinkedIn</a>
      <a href="https://tryhackme.com/p/matthew.vaishnav" target="_blank">TryHackMe</a>
      <a href="mailto:matthew.vaishnav@gmail.com">matthew.vaishnav@gmail.com</a>
    </div>
  </div>
</footer>

<script>
  // Hamburger menu
  const burger = document.getElementById('burger');
  const drawer = document.getElementById('drawer');
  burger.addEventListener('click', () => {
    burger.classList.toggle('open');
    drawer.classList.toggle('open');
  });
  function closeDrawer() {
    burger.classList.remove('open');
    drawer.classList.remove('open');
  }
  // Close drawer on outside click
  document.addEventListener('click', (e) => {
    if (!burger.contains(e.target) && !drawer.contains(e.target)) closeDrawer();
  });

  // Scroll reveal
  const io = new IntersectionObserver((entries) => {
    entries.forEach((e, i) => {
      if (e.isIntersecting) {
        setTimeout(() => e.target.classList.add('in'), i * 65);
        io.unobserve(e.target);
      }
    });
  }, { threshold: 0.07 });
  document.querySelectorAll('.reveal').forEach(el => io.observe(el));

  // Terminal typewriter
  const out = document.getElementById('terminal-output');
  const lines = [
    { type: 'cmd',   text: 'python3 log-correlator.py --src auth.log' },
    { type: 'blank', text: '' },
    { type: 'out',   text: '[*] Loading 14,822 log entries...' },
    { type: 'out',   text: '[*] Parsing sources: auth.log, access.log' },
    { type: 'blank', text: '' },
    { type: 'warn',  text: '[!] BRUTE FORCE DETECTED' },
    { type: 'hi',    text: '    Source IP   : 185.220.101.47' },
    { type: 'hi',    text: '    Target      : root@10.0.0.10' },
    { type: 'hi',    text: '    Attempts    : 847 over 00:03:12' },
    { type: 'hi',    text: '    ATT&CK      : T1110.001' },
    { type: 'blank', text: '' },
    { type: 'good',  text: '[+] SUCCESS AFTER FAILURE CHAIN' },
    { type: 'hi',    text: '    IP          : 185.220.101.47' },
    { type: 'hi',    text: '    Login at    : 03:17:44 UTC' },
    { type: 'hi',    text: '    User        : svc-backup' },
    { type: 'blank', text: '' },
    { type: 'out',   text: '[*] Correlating with web access logs...' },
    { type: 'warn',  text: '[!] RECON PATTERN — scanner fingerprint' },
    { type: 'hi',    text: '    Paths hit   : /admin /wp-login /.env' },
    { type: 'blank', text: '' },
    { type: 'out',   text: '[*] Writing report → report_2026-02-21.html' },
    { type: 'good',  text: '[+] Done. 3 alerts generated.' },
    { type: 'blank', text: '' },
    { type: 'prompt', text: '' },
  ];

  const colours = {
    cmd:    'color:#e4e8f4',
    out:    'color:#4a5568',
    warn:   'color:#f5c842',
    good:   'color:#52c97a',
    hi:     'color:#7a8298',
    blank:  '',
    prompt: '',
  };

  let lineIdx = 0;
  let charIdx = 0;
  let el = null;

  function nextLine() {
    if (lineIdx >= lines.length) return;
    const line = lines[lineIdx];
    const div = document.createElement('div');
    div.className = 'ht-line';

    if (line.type === 'cmd') {
      div.innerHTML = '<span class="ht-prompt">$ </span><span class="ht-cmd"></span>';
    } else if (line.type === 'prompt') {
      div.innerHTML = '<span class="ht-prompt">$ </span><span class="ht-cursor"></span>';
      out.appendChild(div);
      lineIdx++;
      return;
    } else if (line.type === 'blank') {
      out.appendChild(div);
      lineIdx++;
      charIdx = 0;
      setTimeout(nextLine, 80);
      return;
    } else {
      div.innerHTML = `<span style="${colours[line.type] || ''}"></span>`;
    }

    out.appendChild(div);
    el = div.querySelector('span:last-child');
    charIdx = 0;
    typeChar();
  }

  function typeChar() {
    const line = lines[lineIdx];
    if (charIdx < line.text.length) {
      el.textContent += line.text[charIdx];
      charIdx++;
      out.scrollTop = out.scrollHeight;
      const delay = line.type === 'cmd' ? 38 : 12;
      setTimeout(typeChar, delay);
    } else {
      lineIdx++;
      charIdx = 0;
      const pause = line.type === 'cmd' ? 300 : line.type === 'blank' ? 80 : 30;
      setTimeout(nextLine, pause);
    }
  }

  // ── INTERACTIVE LAB DIAGRAM ──
  (function() {
    const canvas = document.getElementById('labCanvas');
    if (!canvas) return;
    const panel  = document.getElementById('nodePanel');
    const pTitle = document.getElementById('panelTitle');
    const pIp    = document.getElementById('panelIp');
    const pBody  = document.getElementById('panelBody');

    // ── Canvas dimensions ──
    const W = 880, H = 390;
    canvas.width  = W;
    canvas.height = H;
    const ctx = canvas.getContext('2d');

    // ── Layout constants ──
    const ZONE_Y  = 135, ZONE_H = 210, ZONE_W = 200;
    // 4 zones evenly spaced: 15, 232, 449, 666  (gap=17)
    const ZONE_X  = [15, 232, 449, 666];
    const VM_W    = 176, VM_H = 48;
    const VM_X    = ZONE_X.map(x => x + 12);   // 12px inset
    const VM1_Y   = ZONE_Y + 30;               // 163
    const VM2_Y   = ZONE_Y + 30 + VM_H + 14;  // 225

    // ── Zone definitions ──
    const zones = [
      { label:'VLAN 10 — MGMT',       i:0, fill:'#0d0e14', stroke:'#1e2235' },
      { label:'VLAN 20 — SECURITY',   i:1, fill:'#0c1010', stroke:'#162016' },
      { label:'VLAN 30 — MONITORING', i:2, fill:'#0e0e0b', stroke:'#222212' },
      { label:'VLAN 40 — LAB',        i:3, fill:'#110a10', stroke:'#22122a' },
    ];

    // ── Node definitions ──
    const nodes = [
      // ISP
      {
        id:'isp', x:16, y:22, w:155, h:55,
        label:'ISP Router', sub:'203.0.113.1',
        fill:'#111420', stroke:'#252a38', tc:'#7a8298',
        info:{ title:'ISP Router', ip:'203.0.113.1 (WAN)',
          body:'Upstream gateway providing WAN connectivity to pfSense. All lab outbound traffic is NATed here before reaching the public internet.' }
      },
      // pfSense
      {
        id:'pfsense', x:195, y:15, w:490, h:72,
        label:'pfSense Firewall', sub:'192.168.1.1  ·  VLAN trunk  ·  IDS/IPS  ·  NAT',
        fill:'#0f1624', stroke:'#2e4a7a', tc:'#c8d6f8', bold:true, strokeW:1.5,
        info:{ title:'pfSense Firewall', ip:'192.168.1.1',
          body:'Core of the lab. Handles all inter-VLAN routing, NAT, and firewall policy. Suricata runs inline for IDS/IPS. The span port mirrors all traffic to Security Onion for full-packet capture.' }
      },
      // MGMT VMs
      {
        id:'winserver', x:VM_X[0], y:VM1_Y, w:VM_W, h:VM_H,
        label:'Windows Server 2019', sub:'192.168.10.10  ·  AD / DNS / DHCP',
        fill:'#111420', stroke:'#1e2a4a', tc:'#7a8298',
        info:{ title:'Windows Server 2019', ip:'192.168.10.10',
          body:'Domain Controller for the lab. Runs Active Directory, DNS, DHCP, Group Policy, and Exchange Server. All domain-joined VMs authenticate here.' }
      },
      {
        id:'ubuntu', x:VM_X[0], y:VM2_Y, w:VM_W, h:VM_H,
        label:'Ubuntu Server 22.04', sub:'192.168.10.20  ·  Ansible / Terraform',
        fill:'#111420', stroke:'#1e2a4a', tc:'#7a8298',
        info:{ title:'Ubuntu Server 22.04', ip:'192.168.10.20',
          body:'Automation and provisioning host. Runs Ansible playbooks and Terraform for infrastructure-as-code. Also serves as the SSH jump box for the rest of the lab.' }
      },
      // Security VMs
      {
        id:'seconion', x:VM_X[1], y:VM1_Y, w:VM_W, h:VM_H,
        label:'Security Onion 2.4', sub:'192.168.20.10  ·  SIEM / IDS',
        fill:'#0f1a0f', stroke:'#1a3a1a', tc:'#7a9878',
        info:{ title:'Security Onion 2.4', ip:'192.168.20.10',
          body:'Full SIEM and IDS stack. Receives mirrored traffic from pfSense span port. Runs Zeek for protocol analysis, Suricata for signature detection, and the Elastic Stack for log search and alerting.' }
      },
      {
        id:'kali', x:VM_X[1], y:VM2_Y, w:VM_W, h:VM_H,
        label:'Kali Linux 2024', sub:'192.168.20.20  ·  Pentest / CTF',
        fill:'#0f1a0f', stroke:'#1a3a1a', tc:'#7a9878',
        info:{ title:'Kali Linux 2024', ip:'192.168.20.20',
          body:'Primary attack and CTF workstation. Full offensive toolkit: Metasploit, Burp Suite, Nmap, Hashcat, BloodHound. Isolated to VLAN 20 so all attack traffic stays inside the lab.' }
      },
      // Monitoring VMs
      {
        id:'docker', x:VM_X[2], y:VM1_Y, w:VM_W, h:VM_H,
        label:'Docker Host', sub:'192.168.30.10  ·  Prometheus / Grafana / Loki',
        fill:'#141410', stroke:'#2e2e12', tc:'#98987a',
        info:{ title:'Docker Host (Ubuntu 22.04)', ip:'192.168.30.10',
          body:'Runs the full observability stack via Docker Compose: Prometheus, Grafana, Loki, Promtail, Alertmanager, Node Exporter, and cAdvisor. Live dashboards for all lab VMs.' }
      },
      {
        id:'alertmgr', x:VM_X[2], y:VM2_Y, w:VM_W, h:VM_H,
        label:'AlertManager', sub:'192.168.30.20  ·  Node Exporter / cAdvisor',
        fill:'#141410', stroke:'#2e2e12', tc:'#98987a',
        info:{ title:'AlertManager + Exporters', ip:'192.168.30.20',
          body:'Handles alert routing, grouping, and deduplication for Prometheus. Node Exporter scrapes host metrics from each VM. cAdvisor monitors container resource usage on the Docker host.' }
      },
      // Lab VMs
      {
        id:'msf', x:VM_X[3], y:VM1_Y, w:VM_W, h:VM_H,
        label:'Metasploitable 3', sub:'192.168.40.10  ·  Intentionally vulnerable',
        fill:'#160f14', stroke:'#2e1a2e', tc:'#987898',
        info:{ title:'Metasploitable 3', ip:'192.168.40.10',
          body:'Intentionally vulnerable Windows Server target. Used for exploitation exercises: EternalBlue, unpatched services, weak credentials. Fully isolated in VLAN 40 — exploits cannot escape.' }
      },
      {
        id:'dvwa', x:VM_X[3], y:VM2_Y, w:VM_W, h:VM_H,
        label:'DVWA', sub:'192.168.40.20  ·  Web vuln training',
        fill:'#160f14', stroke:'#2e1a2e', tc:'#987898',
        info:{ title:'DVWA (Damn Vulnerable Web App)', ip:'192.168.40.20',
          body:'Web vulnerability training target. Covers SQL injection, XSS, CSRF, file inclusion, and command injection across adjustable difficulty levels. Runs in Docker on a lightweight Ubuntu VM.' }
      },
    ];

    // ── Connection definitions (pixel-perfect L-shapes & straights) ──
    // Each connection is a polyline of points
    const conns = [
      // ISP → pfSense (horizontal)
      { from:[171,49], to:[195,49], color:'#2a3a5a', w:1.5, solid:true },
      // pfSense → MGMT (L-shape: left side of pfSense, out left, down)
      { from:[195,51], to:[115,51], via:[115,51], toEnd:[115,ZONE_Y], color:'#2a3044', dashed:true },
      // pfSense → Security (straight down)
      { from:[332,87], to:[332,ZONE_Y], color:'#2a3044', dashed:true },
      // pfSense → Monitoring (straight down)
      { from:[549,87], to:[549,ZONE_Y], color:'#2a3044', dashed:true },
      // pfSense → Lab (L-shape: right side of pfSense, out right, down)
      { from:[685,51], to:[765,51], via:[765,51], toEnd:[765,ZONE_Y], color:'#2a3044', dashed:true },
      // Security Onion → Docker (horizontal between zones, at VM1 mid-height)
      { from:[VM_X[1]+VM_W, VM1_Y+VM_H/2], to:[VM_X[2], VM1_Y+VM_H/2], color:'#1e4a1e', dotted:true, label:'metrics / logs' },
    ];

    let hovered = null;
    let active  = null;

    function connTouchesNode(c, id) {
      // rough check — see if connection involves this node id
      const map = {
        isp:['pfsense'], pfsense:['isp','winserver','ubuntu','seconion','kali','docker','alertmgr','msf','dvwa'],
        winserver:['pfsense'], ubuntu:['pfsense'],
        seconion:['pfsense','docker'], kali:['pfsense'],
        docker:['pfsense','seconion'], alertmgr:['pfsense'],
        msf:['pfsense'], dvwa:['pfsense'],
      };
      return map[id] && map[id].includes(
        (id === 'isp' ? 'pfsense' :
         id === 'pfsense' ? 'isp' :
         id === 'seconion' ? 'docker' :
         id === 'docker'   ? 'seconion' : 'pfsense')
      );
    }

    // Which nodes are "friends" of the active/hovered node
    const friendMap = {
      isp:       ['pfsense'],
      pfsense:   ['isp','winserver','ubuntu','seconion','kali','docker','alertmgr','msf','dvwa'],
      winserver: ['pfsense'], ubuntu:    ['pfsense'],
      seconion:  ['pfsense','docker'],  kali:      ['pfsense'],
      docker:    ['pfsense','seconion'],alertmgr:  ['pfsense'],
      msf:       ['pfsense'],           dvwa:      ['pfsense'],
    };

    function isFriend(id) {
      const pivot = active || hovered;
      if (!pivot) return false;
      return (friendMap[pivot] || []).includes(id) || pivot === id;
    }

    // Which connections are "lit" (involve active/hovered node)
    const connNodes = [
      ['isp','pfsense'],
      ['pfsense','winserver'], ['pfsense','ubuntu'],
      ['pfsense','seconion'],  ['pfsense','kali'],
      ['pfsense','docker'],    ['pfsense','alertmgr'],
      ['pfsense','msf'],       ['pfsense','dvwa'],
      ['seconion','docker'],
    ];
    function connLit(ci) {
      const pivot = active || hovered;
      if (!pivot) return false;
      return connNodes[ci] && connNodes[ci].includes(pivot);
    }

    // ── Drawing helpers ──
    function rr(x, y, w, h, r) {
      ctx.beginPath();
      ctx.moveTo(x+r,y);
      ctx.lineTo(x+w-r,y);   ctx.arcTo(x+w,y,  x+w,y+r,  r);
      ctx.lineTo(x+w,y+h-r); ctx.arcTo(x+w,y+h,x+w-r,y+h,r);
      ctx.lineTo(x+r,y+h);   ctx.arcTo(x,y+h,  x,y+h-r,  r);
      ctx.lineTo(x,y+r);     ctx.arcTo(x,y,    x+r,y,    r);
      ctx.closePath();
    }

    function arrow(x1,y1,x2,y2,col,size=6) {
      const ang = Math.atan2(y2-y1, x2-x1);
      ctx.fillStyle = col;
      ctx.beginPath();
      ctx.moveTo(x2, y2);
      ctx.lineTo(x2 - size*Math.cos(ang-0.35), y2 - size*Math.sin(ang-0.35));
      ctx.lineTo(x2 - size*Math.cos(ang+0.35), y2 - size*Math.sin(ang+0.35));
      ctx.closePath(); ctx.fill();
    }

    function drawPolyline(pts, col, lw, dash) {
      ctx.beginPath();
      ctx.strokeStyle = col; ctx.lineWidth = lw;
      ctx.setLineDash(dash || []);
      ctx.moveTo(pts[0][0], pts[0][1]);
      for (let i=1;i<pts.length;i++) ctx.lineTo(pts[i][0],pts[i][1]);
      ctx.stroke();
      ctx.setLineDash([]);
    }

    // ── Main draw ──
    function draw() {
      ctx.clearRect(0,0,W,H);

      // BG
      ctx.fillStyle = '#080a10';
      ctx.fillRect(0,0,W,H);

      // Zones
      zones.forEach(z => {
        const x = ZONE_X[z.i];
        ctx.fillStyle   = z.fill;
        ctx.strokeStyle = z.stroke;
        ctx.lineWidth   = 1;
        rr(x, ZONE_Y, ZONE_W, ZONE_H, 4);
        ctx.fill(); ctx.stroke();

        ctx.fillStyle = '#333a50';
        ctx.font = '8.5px "JetBrains Mono",monospace';
        ctx.textAlign = 'center';
        ctx.fillText(z.label, x + ZONE_W/2, ZONE_Y + 16);
      });

      // Connections
      const pivotId = active || hovered;

      conns.forEach((c, ci) => {
        const lit = connLit(ci);
        const col = lit ? (ci===9 ? '#3a8a3a' : 'rgba(200,214,248,0.4)') : c.color;
        const lw  = lit ? 1.5 : c.w || 1;
        const dash = c.solid ? [] : c.dotted ? [2,3] : [4,3];

        // Build polyline points
        let pts;
        if (c.via) {
          // L-shape: from → via (same y) → toEnd (down)
          pts = [c.from, c.via, c.toEnd];
        } else {
          pts = [c.from, c.to];
        }
        drawPolyline(pts, col, lw, dash);

        // Arrow at end
        const last = pts[pts.length-1];
        const prev = pts[pts.length-2];
        arrow(prev[0],prev[1],last[0],last[1], col, 5);

        // Label on dotted connection
        if (c.label && lit) {
          const mx = (c.from[0]+c.to[0])/2;
          const my = c.from[1] - 9;
          ctx.fillStyle = '#52c97a';
          ctx.font = '9px "JetBrains Mono",monospace';
          ctx.textAlign = 'center';
          ctx.fillText(c.label, mx, my);
        }
      });

      // Nodes
      nodes.forEach(n => {
        const isAct = active  === n.id;
        const isHov = hovered === n.id;
        const friend = isFriend(n.id);
        const dim    = pivotId && !isAct && !isHov && !friend;

        ctx.globalAlpha = dim ? 0.25 : 1;

        // Glow
        if (isAct || isHov) {
          ctx.shadowColor = isAct ? 'rgba(200,214,248,0.3)' : 'rgba(200,214,248,0.15)';
          ctx.shadowBlur  = isAct ? 14 : 7;
        }

        ctx.fillStyle   = isAct ? '#182030' : isHov ? '#141c2a' : n.fill;
        ctx.strokeStyle = isAct ? '#c8d6f8' : isHov ? 'rgba(200,214,248,0.55)' : friend ? 'rgba(200,214,248,0.2)' : n.stroke;
        ctx.lineWidth   = (isAct || isHov) ? 1.5 : (n.strokeW || 1);
        rr(n.x, n.y, n.w, n.h, 3);
        ctx.fill(); ctx.stroke();
        ctx.shadowBlur = 0;

        // Label
        ctx.textAlign = 'center';
        const cx = n.x + n.w/2;

        // For pfSense (tall): vertically center
        if (n.id === 'pfsense') {
          ctx.fillStyle = isAct ? '#e4e8f4' : isHov ? '#d0d8f0' : n.tc;
          ctx.font = `${n.bold?'500':'400'} 11px "JetBrains Mono",monospace`;
          ctx.fillText(n.label, cx, n.y + n.h/2 - 6);
          ctx.fillStyle = '#4a5a78';
          ctx.font = '9px "JetBrains Mono",monospace';
          ctx.fillText(n.sub, cx, n.y + n.h/2 + 9);
        } else if (n.id === 'isp') {
          ctx.fillStyle = isAct ? '#e4e8f4' : isHov ? '#d0d8f0' : n.tc;
          ctx.font = '10px "JetBrains Mono",monospace';
          ctx.fillText(n.label, cx, n.y + n.h/2 - 5);
          ctx.fillStyle = '#3a4560';
          ctx.font = '8.5px "JetBrains Mono",monospace';
          ctx.fillText(n.sub, cx, n.y + n.h/2 + 9);
        } else {
          // VM boxes — two lines
          ctx.fillStyle = isAct ? '#e4e8f4' : isHov ? '#d0d8f0' : n.tc;
          ctx.font = '10px "JetBrains Mono",monospace';
          ctx.fillText(n.label, cx, n.y + n.h/2 - 6);
          ctx.fillStyle = dim ? '#2a3040' : '#3a4560';
          ctx.font = '8px "JetBrains Mono",monospace';
          ctx.fillText(n.sub, cx, n.y + n.h/2 + 8);
        }

        ctx.globalAlpha = 1;
      });

      // Footer hint
      ctx.fillStyle = '#232836';
      ctx.font = '8.5px "JetBrains Mono",monospace';
      ctx.textAlign = 'left';
      ctx.fillText('Hypervisor: VMware Workstation  ·  Host OS: Windows 11  ·  Click any node to explore', 16, H-10);
    }

    // ── Hit testing ──
    function getNode(mx, my) {
      const rect = canvas.getBoundingClientRect();
      const cx = (mx - rect.left) * (W / rect.width);
      const cy = (my - rect.top)  * (H / rect.height);
      return nodes.find(n => cx>=n.x && cx<=n.x+n.w && cy>=n.y && cy<=n.y+n.h) || null;
    }

    function showPanel(n, mx, my) {
      pTitle.textContent = n.info.title;
      pIp.textContent    = n.info.ip;
      pBody.textContent  = n.info.body;
      panel.style.display = 'block';

      const wrap = canvas.parentElement.getBoundingClientRect();
      let left = mx - wrap.left + 14;
      let top  = my - wrap.top  + 14;
      panel.style.display = 'block';
      const pw = 270, ph = 160;
      if (left + pw > wrap.width  - 8) left = mx - wrap.left - pw - 14;
      if (top  + ph > wrap.height - 8) top  = my - wrap.top  - ph - 14;
      panel.style.left = Math.max(4, left) + 'px';
      panel.style.top  = Math.max(4, top)  + 'px';
    }

    canvas.addEventListener('mousemove', e => {
      const n = getNode(e.clientX, e.clientY);
      hovered = n ? n.id : null;
      canvas.style.cursor = n ? 'pointer' : 'default';
      if (n && !active) showPanel(n, e.clientX, e.clientY);
      else if (!n && !active) panel.style.display = 'none';
      draw();
    });

    canvas.addEventListener('click', e => {
      const n = getNode(e.clientX, e.clientY);
      active = (n && active !== n.id) ? n.id : null;
      if (active && n) showPanel(n, e.clientX, e.clientY);
      else panel.style.display = 'none';
      draw();
    });

    canvas.addEventListener('mouseleave', () => {
      hovered = null;
      if (!active) panel.style.display = 'none';
      draw();
    });

    canvas.addEventListener('touchstart', e => {
      e.preventDefault();
      const t = e.touches[0];
      const n = getNode(t.clientX, t.clientY);
      active = (n && active !== n.id) ? n.id : null;
      if (active && n) showPanel(n, t.clientX, t.clientY);
      else panel.style.display = 'none';
      draw();
    }, { passive:false });

    draw();
  })();
</script>

</body>
</html>
